(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{237:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(57),i=n.n(c),o=n(11),s=n(9),l=n(107),u=n(28),d=n(10),j=n(1),p=function(){return Object(j.jsx)("div",{className:"ui secondary pointing menu",children:Object(j.jsx)(u.b,{to:"/",className:"item",children:"Team Composition Tool"})})},b=n(12),m=n(13),h=n(15),O=n(14),f=n(5),v=n(27),y=n.n(v),x=n(8),T=n.n(x),N=n(23),k=n(108),w=n.n(k).a.create({baseURL:"http://localhost:3001"}),E=n(19),g=Object(E.a)(),S="CREATE_PLAYER",C="CREATE_TEAM",P="FETCH_PLAYERS",A="FETCH_TEAMS",M="FETCH_PLAYER",_="FETCH_TEAM",D="EDIT_PLAYER",L="EDIT_TEAM",R="DELETE_PLAYER",F="DELETE_TEAM",Y="MOVE_PLAYER_TO_TEAM",I=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchPlayers()}},{key:"renderCreate",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)(u.b,{to:"/players/new",className:"ui button primary",children:"New Player..."})})}},{key:"addPlayerToSelectedTeam",value:function(e,t){var n=1;e.players.length>0&&(n=e.players.reduce((function(e,t){return Math.max(e.id,t.id)})).id+1);console.log("next id"),console.log(n);var r=e.players;r.push(Object(f.a)(Object(f.a)({},t),{},{id:n}));var a=Object(f.a)(Object(f.a)({},e),{},{players:r});this.setState({selectedTeam:a})}},{key:"moveToTeam",value:function(e){this.props.selectedTeam&&this.addPlayerToSelectedTeam(this.props.selectedTeam,y.a.pick(e,"name","role"))}},{key:"renderToolbar",value:function(e){var t=this;return Object(j.jsxs)("div",{className:"right floated content",children:[Object(j.jsx)(u.b,{to:"/players/edit/".concat(e.id),className:"ui button primary",children:"Edit Player"}),Object(j.jsx)("button",{className:"ui button primary",onClick:function(){return t.moveToTeam(e)},children:"Add to Current Team"}),Object(j.jsx)("button",{className:"ui button negative",onClick:function(){return t.props.deletePlayer(e.id)},children:"Delete"})]})}},{key:"renderList",value:function(){var e=this;return this.props.players.map((function(t){return Object(j.jsxs)("div",{className:"item",children:[e.renderToolbar(t),Object(j.jsx)("i",{className:"large middle aligned icon futbol outline"}),Object(j.jsxs)("div",{className:"content",children:[t.name,Object(j.jsx)("div",{className:"description",children:t.role})]})]},t.id)}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Player Pool"})}),Object(j.jsx)("div",{className:"ui celled list",children:this.renderList()}),this.renderCreate()]})}}]),n}(a.a.Component),V=Object(o.b)((function(e){return{players:Object.values(e.players),selectedTeam:e.selected.selectedTeam}}),{fetchPlayers:function(){return function(){var e=Object(N.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/players");case 2:n=e.sent,t({type:P,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deletePlayer:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.delete("/players/".concat(e));case 2:n({type:R,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(I),U=n(239),H=n(240),J=n(238),K=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderInput=function(t){var n=t.input,r=t.label,a=t.meta,c="field ".concat(a.error&&a.touched?"error":"");return Object(j.jsxs)("div",{className:c,children:[Object(j.jsx)("label",{children:r}),Object(j.jsx)("input",Object(f.a)(Object(f.a)({},n),{},{autoComplete:"off"})),e.renderError(a)]})},e.onSubmit=function(t){e.props.onSubmit(t)},e.onMovePlayer=function(t){e.props.onMovePlayer(t)},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){console.log("MOUNTED")}},{key:"componentDidUpdate",value:function(){console.log("UPDATED")}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return Object(j.jsx)("div",{className:"ui error message",children:Object(j.jsx)("div",{className:"header",children:t})})}},{key:"renderToolbar",value:function(e){var t=this;return Object(j.jsx)("div",{className:"right floated content",children:Object(j.jsx)("button",{className:"ui button primary",onClick:function(){return t.props.fetchTeam(e)},children:"Remove from Team"})})}},{key:"limitOf",value:function(e){return 0}},{key:"renderP",value:function(e){return Object(j.jsx)("span",{children:e})}},{key:"setLimitText",value:function(e){var t=e.composition.split("-");return Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[e.defenders,"/",t[0]," Defenders,",e.midfielders,"/",t[1]," Midfielders,",e.forwards,"/",t[2]," Forwards"]})})}},{key:"removeFromTeam",value:function(e,t){e.remove(t)}},{key:"renderMembers",value:function(e){var t=e.fields;return 0===t.length?Object(j.jsx)("div",{children:"No players yet, add them now!"}):Object(j.jsx)("div",{className:"ui celled list",children:t.map((function(e,t,n){return Object(j.jsxs)("li",{className:"item",children:[Object(j.jsx)("div",{className:"ui right floated content",children:Object(j.jsx)("button",{className:"ui button primary",onClick:function(){n.remove(t)},children:"Remove from Team"})}),Object(j.jsx)("i",{className:"large middle aligned icon futbol outline"}),Object(j.jsx)(U.a,{name:"".concat(e,".name"),component:"input",readOnly:!0,label:""}),Object(j.jsx)(U.a,{name:"".concat(e,".role"),type:"text",component:"input",readOnly:!0,label:""})]},t)}))})}},{key:"render",value:function(){return this.props.initialValues?Object(j.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error",children:[Object(j.jsx)(U.a,{name:"name",component:this.renderInput,label:"Change Name"}),Object(j.jsx)("label",{children:"Change Composition"}),Object(j.jsxs)(U.a,{name:"composition",component:"select",children:[Object(j.jsx)("option",{value:""}),Object(j.jsx)("option",{value:"4-5-1",children:"4-5-1"}),Object(j.jsx)("option",{value:"4-4-2",children:"4-4-2"}),Object(j.jsx)("option",{value:"4-3-3",children:"4-3-3"})]}),Object(j.jsx)(H.a,{name:"players",component:this.renderMembers}),Object(j.jsx)("button",{type:"submit",className:"ui button primary",children:"Save Team"})]}):Object(j.jsx)("div",{children:"Load a team to edit it here"})}}]),n}(a.a.Component),X=Object(J.a)({form:"teamViewForm",enableReinitialize:!0})(K),q=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onMovePlayer=function(t){e.props.createPlayer(t)},e.onSubmit=function(t){e.props.editTeam(e.props.selectedTeam.id,t)},e}return Object(m.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Edit Team"}),Object(j.jsx)(X,{initialValues:this.props.selectedTeam,onSubmit:this.onSubmit,onMovePlayer:this.onMovePlayer})]})}}]),n}(a.a.Component),z=Object(o.b)((function(e){return{selectedTeam:e.selected.selectedTeam}}),{editTeam:function(e,t){return function(){var n=Object(N.a)(T.a.mark((function n(r){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.patch("/teams/".concat(e),t);case 2:a=n.sent,r({type:L,payload:a.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(q),B=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchTeams()}},{key:"renderCreate",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)(u.b,{to:"/teams/new",className:"ui button primary",children:"New Team..."})})}},{key:"renderToolbar",value:function(e){var t=this;return Object(j.jsxs)("div",{className:"right floated content",children:[Object(j.jsx)("button",{className:"ui button primary",onClick:function(){return t.props.fetchTeam(e)},children:"Load"}),Object(j.jsx)("button",{className:"ui button negative",onClick:function(){return t.props.deleteTeam(e)},children:"Delete"})]})}},{key:"renderList",value:function(){var e=this;return this.props.teams.map((function(t){return Object(j.jsxs)("div",{className:"item",children:[e.renderToolbar(t.id),Object(j.jsx)("i",{className:"large middle aligned icon users"}),Object(j.jsxs)("div",{className:"content",children:[t.name,Object(j.jsx)("div",{className:"description",children:t.composition})]})]},t.id)}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Teams"}),Object(j.jsx)("div",{className:"ui celled list",children:this.renderList()}),this.renderCreate()]})}}]),n}(a.a.Component),G=Object(o.b)((function(e){return{teams:Object.values(e.teams),selectedTeam:e.selected}}),{fetchTeams:function(){return function(){var e=Object(N.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/teams");case 2:n=e.sent,t({type:A,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchTeam:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/teams/".concat(e));case 2:r=t.sent,n({type:_,payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteTeam:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.delete("/teams/".concat(e));case 2:n({type:F,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(B),Q=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"ui grid",children:[Object(j.jsx)("div",{className:"eight wide column",children:Object(j.jsx)(V,{})}),Object(j.jsxs)("div",{className:"eight wide column",children:[Object(j.jsx)(z,{}),Object(j.jsx)(G,{})]})]})}}]),n}(a.a.Component),W=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderInput=function(t){var n=t.input,r=t.label,a=t.meta,c="field ".concat(a.error&&a.touched?"error":"");return Object(j.jsxs)("div",{className:c,children:[Object(j.jsx)("label",{children:r}),Object(j.jsx)("input",Object(f.a)(Object(f.a)({},n),{},{autoComplete:"off"})),e.renderError(a)]})},e.onSubmit=function(t){e.props.onSubmit(t)},e}return Object(m.a)(n,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return Object(j.jsx)("div",{className:"ui error message",children:Object(j.jsx)("div",{className:"header",children:t})})}},{key:"render",value:function(){return Object(j.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error",children:[Object(j.jsx)(U.a,{name:"name",component:this.renderInput,label:"Enter Name"}),Object(j.jsx)("label",{children:"Enter Role"}),Object(j.jsxs)(U.a,{name:"role",component:"select",children:[Object(j.jsx)("option",{value:""}),Object(j.jsx)("option",{value:"forward",children:"Forward"}),Object(j.jsx)("option",{value:"defender",children:"Defender"}),Object(j.jsx)("option",{value:"midfielder",children:"Midfielder"})]}),Object(j.jsx)("button",{className:"ui button primary",children:"Submit"})]})}}]),n}(a.a.Component),Z=Object(J.a)({form:"playerForm",validate:function(e){var t={};return e.name||(t.title="You must enter a name"),e.role||(t.description="You must enter a role"),t}})(W),$=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(t){e.props.createPlayer(t)},e}return Object(m.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"New Player"}),Object(j.jsx)(Z,{onSubmit:this.onSubmit})]})}}]),n}(a.a.Component),ee=Object(o.b)(null,{createPlayer:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.post("/players",e);case 2:r=t.sent,n({type:S,payload:r.data}),g.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})($),te=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(t){e.props.editPlayer(e.props.match.params.id,t)},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchPlayer(this.props.match.params.id)}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Edit Player"}),Object(j.jsx)(Z,{initialValues:y.a.pick(this.props.player,"name","role"),onSubmit:this.onSubmit})]})}}]),n}(a.a.Component),ne=Object(o.b)((function(e,t){return{player:e.players[t.match.params.id]}}),{fetchPlayer:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("/players/".concat(e));case 2:r=t.sent,n({type:M,payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},editPlayer:function(e,t){return function(){var n=Object(N.a)(T.a.mark((function n(r){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.patch("/players/".concat(e),t);case 2:a=n.sent,r({type:D,payload:a.data}),g.push("/");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(te),re=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderInput=function(t){var n=t.input,r=t.label,a=t.meta,c="field ".concat(a.error&&a.touched?"error":"");return Object(j.jsxs)("div",{className:c,children:[Object(j.jsx)("label",{children:r}),Object(j.jsx)("input",Object(f.a)(Object(f.a)({},n),{},{autoComplete:"off"})),e.renderError(a)]})},e.onSubmit=function(t){e.props.onSubmit(t)},e}return Object(m.a)(n,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return Object(j.jsx)("div",{className:"ui error message",children:Object(j.jsx)("div",{className:"header",children:t})})}},{key:"render",value:function(){return Object(j.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error",children:[Object(j.jsx)(U.a,{name:"name",component:this.renderInput,label:"Enter Team Name"}),Object(j.jsx)("label",{children:"Team Composition"}),Object(j.jsxs)(U.a,{name:"composition",component:"select",children:[Object(j.jsx)("option",{value:""}),Object(j.jsx)("option",{value:"4-5-1",children:"4-5-1"}),Object(j.jsx)("option",{value:"4-4-2",children:"4-4-2"}),Object(j.jsx)("option",{value:"4-3-3",children:"4-3-3"})]}),Object(j.jsx)("button",{className:"ui button primary",children:"Submit"})]})}}]),n}(a.a.Component),ae=Object(J.a)({form:"teamForm",validate:function(e){var t={};return e.title||(t.title="You must enter a title"),e.role||(t.description="You must enter a role"),t}})(re),ce=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(t){e.props.createTeam(t)},e}return Object(m.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"New Team"}),Object(j.jsx)(ae,{onSubmit:this.onSubmit})]})}}]),n}(a.a.Component),ie=Object(o.b)(null,{createTeam:function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.post("/teams",Object(f.a)(Object(f.a)({},e),{},{players:[],defenders:0,midfielders:0,forwards:0}));case 2:r=t.sent,n({type:C,payload:r.data}),g.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ce),oe=function(){return Object(j.jsx)("div",{className:"ui container",children:Object(j.jsx)(u.a,{history:g,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(p,{}),Object(j.jsx)(d.a,{path:"/#/",exact:!0,component:Q}),Object(j.jsx)(d.a,{path:"/players/new",exact:!0,component:ee}),Object(j.jsx)(d.a,{path:"/players/edit/:id",exact:!0,component:ne}),Object(j.jsx)(d.a,{path:"/teams/new",exact:!0,component:ie})]})})})},se=n(241),le=n(24),ue={selectedTeam:void 0},de=Object(s.c)({form:se.a,players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(f.a)(Object(f.a)({},e),y.a.mapKeys(t.payload,"id"));case M:case S:case D:return Object(f.a)(Object(f.a)({},e),{},Object(le.a)({},t.payload.id,t.payload));case R:return y.a.omit(e,t.payload);case Y:return Object(f.a)(Object(f.a)({},e),{},Object(le.a)({},t.payload.id,t.payload));default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(f.a)(Object(f.a)({},e),y.a.mapKeys(t.payload,"id"));case _:case C:case L:return Object(f.a)(Object(f.a)({},e),{},Object(le.a)({},t.payload.id,t.payload));case F:return y.a.omit(e,t.payload);default:return e}},selected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(f.a)(Object(f.a)({},e),{},{selectedTeam:t.payload});default:return e}}}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,pe=Object(s.e)(de,je(Object(s.a)(l.a)));i.a.render(Object(j.jsx)(o.a,{store:pe,children:Object(j.jsx)(oe,{})}),document.querySelector("#root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.31d97382.chunk.js.map